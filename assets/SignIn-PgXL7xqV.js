import{t as T,v as D,r,j as e,T as g,B as m,A as B,s as b,w as A}from"./index-BFxgnh_x.js";import{S as L,F as H,C as K,L as M,a as U}from"./CustomIcons-C_m4uHKd.js";import{G as V,H as W,y,D as f,E as S,z,S as P,C as R}from"./AppTheme-ImCY9ZLC.js";const q=b(U)(({theme:t})=>({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:t.spacing(4),gap:t.spacing(2),margin:"auto",[t.breakpoints.up("sm")]:{maxWidth:"450px"},boxShadow:"hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px",...t.applyStyles("dark",{boxShadow:"hsla(220, 30%, 5%, 0.5) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.08) 0px 15px 35px -5px"})})),G=b(P)(({theme:t})=>({height:"calc((1 - var(--template-frame-height, 0)) * 100dvh)",minHeight:"100%",padding:t.spacing(2),[t.breakpoints.up("sm")]:{padding:t.spacing(4)},"&::before":{content:'""',display:"block",position:"absolute",zIndex:-1,inset:0,backgroundImage:"radial-gradient(ellipse at 50% 50%, hsl(210, 100%, 97%), hsl(0, 0%, 100%))",backgroundRepeat:"no-repeat",...t.applyStyles("dark",{backgroundImage:"radial-gradient(at 50% 50%, hsla(210, 100%, 16%, 0.5), hsl(220, 30%, 5%))"})}}));function $(t){const k=T(),j=D(),[i,d]=r.useState(!1),[v,p]=r.useState(""),[l,u]=r.useState(!1),[C,x]=r.useState(""),[s,E]=r.useState(!1),[w,h]=r.useState(!1),I=async a=>{if(a.preventDefault(),i||l)return;const n=new FormData(a.currentTarget);let o={key:n.get("key"),secret:n.get("secret")};h(!0);try{const c=await R.get("/myself",{useAuthHeaders:!0,userInfo:o});k(A(c.data.data)),j("/")}catch(c){console.error("Error:",c)}finally{h(!1)}},F=()=>{const a=document.getElementById("secret"),n=document.getElementById("key");let o=!0;return!a.value||a.value.length<6?(d(!0),p("Please enter a valid email address."),o=!1):(d(!1),p("")),!n.value||n.value.length<6?(u(!0),x("Password must be at least 6 characters long."),o=!1):(u(!1),x("")),o};return e.jsxs(V,{...t,children:[e.jsx(W,{enableColorScheme:!0}),e.jsx(G,{direction:"column",justifyContent:"space-between",children:e.jsxs(q,{variant:"outlined",children:[e.jsx(L,{}),e.jsx(g,{component:"h1",variant:"h4",sx:{width:"100%",fontSize:"clamp(2rem, 10vw, 2.15rem)"},children:"Sign in"}),e.jsxs(m,{component:"form",onSubmit:I,noValidate:!0,sx:{display:"flex",flexDirection:"column",width:"100%",gap:2},children:[e.jsxs(y,{children:[e.jsx(f,{htmlFor:"key",children:"Key"}),e.jsx(S,{error:i,helperText:v,id:"key",type:s?"text":"password",name:"key",placeholder:s?"Key":"••••••",autoComplete:"key",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",color:i?"error":"primary"})]}),e.jsxs(y,{children:[e.jsx(f,{htmlFor:"secret",children:"Secret"}),e.jsx(S,{error:l,helperText:C,name:"secret",placeholder:s?"Secret":"••••••",type:s?"text":"password",id:"secret",autoComplete:"secret",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",color:l?"error":"primary"})]}),e.jsx(H,{control:e.jsx(K,{checked:s,onChange:()=>E(a=>!a),color:"primary"}),label:"Inputs visibility"}),e.jsx(z,{type:"submit",fullWidth:!0,variant:"contained",onClick:F,disabled:w,children:"Sign in"})]}),e.jsx(m,{sx:{display:"flex",flexDirection:"column",gap:2},children:e.jsxs(g,{sx:{textAlign:"center"},children:["Don't have an account?"," ",e.jsx(M,{href:B.SIGNUP,variant:"body2",sx:{alignSelf:"center"},children:"Sign up"})]})})]})})]})}export{$ as default};
