import{t as U,v as W,r as t,j as e,T as h,B as w,A as z,s as F,w as H}from"./index-BhGBv2LJ.js";import{G as R,H as V,y as d,D as u,E as p,z as G,S as O,C as J}from"./AppTheme-DunUBC4v.js";import{S as P,F as _,C as $,L as Q,a as X}from"./CustomIcons-8Y4KXmN_.js";import{D as Y}from"./Divider-DekmrMWe.js";const Z=F(X)(({theme:r})=>({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:r.spacing(4),gap:r.spacing(2),margin:"auto",boxShadow:"hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px",[r.breakpoints.up("sm")]:{width:"450px"},...r.applyStyles("dark",{boxShadow:"hsla(220, 30%, 5%, 0.5) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.08) 0px 15px 35px -5px"})})),ee=F(O)(({theme:r})=>({height:"calc((1 - var(--template-frame-height, 0)) * 100dvh)",minHeight:"100%",padding:r.spacing(2),[r.breakpoints.up("sm")]:{padding:r.spacing(4)},"&::before":{content:'""',display:"block",position:"absolute",zIndex:-1,inset:0,backgroundImage:"radial-gradient(ellipse at 50% 50%, hsl(210, 100%, 97%), hsl(0, 0%, 100%))",backgroundRepeat:"no-repeat",...r.applyStyles("dark",{backgroundImage:"radial-gradient(at 50% 50%, hsla(210, 100%, 16%, 0.5), hsl(220, 30%, 5%))"})}}));function le(r){const I=U(),T=W(),[g,y]=t.useState(!1),[D,f]=t.useState(""),[i,S]=t.useState(!1),[B,j]=t.useState(""),[m,E]=t.useState(!1),[M,b]=t.useState(""),[x,v]=t.useState(!1),[L,k]=t.useState(""),[n,N]=t.useState(!1),[q,C]=t.useState(!1),A=()=>{const a=document.getElementById("email"),s=document.getElementById("key"),c=document.getElementById("secret"),l=document.getElementById("name");let o=!0;return!a.value||!/\S+@\S+\.\S+/.test(a.value)?(y(!0),f("Please enter a valid email address."),o=!1):(y(!1),f("")),!s.value||s.value.length<6?(S(!0),j("Key must be at least 6 characters long."),o=!1):(S(!1),j("")),!c.value||c.value.length<6?(E(!0),b("Secret must be at least 6 characters long."),o=!1):(E(!1),b("")),!l.value||l.value.length<1?(v(!0),k("Name is required."),o=!1):(v(!1),k("")),o},K=async a=>{if(a.preventDefault(),x||g||i||m)return;const s=new FormData(a.currentTarget);let c={name:s.get("name"),key:s.get("key"),email:s.get("email"),secret:s.get("secret")};C(!0);try{const l=await J.post("/signup",c);I(H(l.data.data)),T("/")}catch(l){console.error("Error:",l)}finally{C(!1)}};return e.jsxs(R,{...r,children:[e.jsx(V,{enableColorScheme:!0}),e.jsx(ee,{direction:"column",justifyContent:"space-between",children:e.jsxs(Z,{variant:"outlined",children:[e.jsx(P,{}),e.jsx(h,{component:"h1",variant:"h4",sx:{width:"100%",fontSize:"clamp(2rem, 10vw, 2.15rem)"},children:"Sign up"}),e.jsxs(w,{component:"form",onSubmit:K,sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(d,{children:[e.jsx(u,{htmlFor:"name",children:"Name"}),e.jsx(p,{autoComplete:"name",name:"name",required:!0,fullWidth:!0,id:"name",placeholder:"Jon Snow",error:x,helperText:L,color:x?"error":"primary"})]}),e.jsxs(d,{children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(p,{required:!0,fullWidth:!0,id:"email",placeholder:"your@email.com",name:"email",autoComplete:"email",variant:"outlined",error:g,helperText:D,color:i?"error":"primary"})]}),e.jsxs(d,{children:[e.jsx(u,{htmlFor:"key",children:"Key"}),e.jsx(p,{error:m,helperText:M,id:"key",type:n?"text":"password",name:"key",placeholder:n?"Key":"••••••",autoComplete:"key",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",color:m?"error":"primary"})]}),e.jsxs(d,{children:[e.jsx(u,{htmlFor:"secret",children:"Secret"}),e.jsx(p,{error:i,helperText:B,name:"secret",placeholder:n?"Secret":"••••••",type:n?"text":"password",id:"secret",autoComplete:"secret",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",color:i?"error":"primary"})]}),e.jsx(_,{control:e.jsx($,{checked:n,onChange:()=>N(a=>!a),color:"primary"}),label:"Inputs visibility"}),e.jsx(G,{type:"submit",fullWidth:!0,variant:"contained",onClick:A,disabled:q,children:"Sign up"})]}),e.jsx(Y,{children:e.jsx(h,{sx:{color:"text.secondary"},children:"or"})}),e.jsx(w,{sx:{display:"flex",flexDirection:"column",gap:2},children:e.jsxs(h,{sx:{textAlign:"center"},children:["Already have an account?"," ",e.jsx(Q,{href:z.LOGIN,variant:"body2",sx:{alignSelf:"center"},children:"Sign in"})]})})]})})]})}export{le as default};
